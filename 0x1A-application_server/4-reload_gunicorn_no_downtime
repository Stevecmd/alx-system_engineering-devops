#!/bin/bash
# No service interruption - Reload Gunicorn gracefully

# Find the Gunicorn master process PID
PID=$(ps aux | grep 'gunicorn: master' | grep -v grep | awk '{print $2}')

# Check if the PID was found
if [ -n "$PID" ]; then
    # Send the HUP signal to gracefully reload Gunicorn
    kill -HUP "$PID"
    echo "Gunicorn reloaded gracefully."
else
    echo "Gunicorn master process not found."
    exit 1
fi
